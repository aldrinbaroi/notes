## Fix Internet Connection Issue - WSL Ubuntu

The reason this error occurs is because Windows automatically generates resolv.conf file with wrong nameserver.

### Method #1

Open Command Prompt as an Administrator and run the following commands:
```
wsl --shutdown
netsh winsock reset 
netsh int ip reset all
netsh winhttp reset proxy
ipconfig /flushdns
```
Reboot your machine.

### Method #2
___Note: Sometimes doesn't work as Windows will not respect auto-generation of resolvconf set to false___ 

To resolve this issue, follow the following steps.

Locate the file by running the following command:
```
sudo nano /etc/resolv.conf
```
You will see the following in the file:
```
# This file was automatically generated by WSL. To stop automatic generation of this file, add the following entry to /etc/resolv.conf
# [network]
# generateResolvConf = false
nameserver xxx.xx.xx
```
Change the nameserver value to 8.8.8.8 and save the file. You should now be able to connect to the internet.

Edit /etc/wsl.conf 
```
sudo nano /etc/wsl.conf
```
and add the next text to make the changes persistent
```
[network]
generateResolvConf = False
```
